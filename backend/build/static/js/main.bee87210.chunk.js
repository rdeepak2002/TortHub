(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{214:function(e,t,a){e.exports=a(419)},417:function(e,t,a){},419:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(34),i=a.n(l),o=a(31),s=a(17),c=a(18),m=a(20),u=a(19),d=a(11),h=a(173),g=a(429),v=a(422),E=a(428),b=a(14),f=a(423),y=a(424),p=a(425),S=a(426),k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={imageLoaded:!1},n.handleImageLoaded=n.handleImageLoaded.bind(Object(b.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.imageLoaded;return r.a.createElement(v.a,null,r.a.createElement(f.a,{className:e?"hidden":"visible"},r.a.createElement(y.a,{className:"d-flex justify-content-center"},r.a.createElement(p.a,{animation:"border",size:"lg"}))),r.a.createElement(f.a,{className:e?"visible":"hidden"},r.a.createElement(y.a,null,r.a.createElement(f.a,null,r.a.createElement(S.a,{className:"video_feed",rounded:!0,fluid:!0,alt:"stream",src:"/video_feed",onLoad:this.handleImageLoaded.bind(this)})))))}},{key:"handleImageLoaded",value:function(){this.setState({imageLoaded:!0})}}]),a}(n.Component),O=a(427),j=a(24),L=a.n(j),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={lightLoading:!1},n.turnOffLight=n.turnOffLight.bind(Object(b.a)(n)),n.turnOnLight=n.turnOnLight.bind(Object(b.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(v.a,null,r.a.createElement(f.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a,null,r.a.createElement(y.a,{className:"d-flex justify-content-center"},r.a.createElement("h2",{className:"device-title"},"Heat Lamps"))),r.a.createElement(f.a,null,r.a.createElement(y.a,{className:"d-flex justify-content-end"},r.a.createElement(O.a,{className:"light-btn",disabled:!!this.state.lightLoading,onClick:this.turnOnLight,variant:"dark"},"ON LAMP")),r.a.createElement(y.a,{className:"d-flex justify-content-start"},r.a.createElement(O.a,{className:"light-btn",disabled:!!this.state.lightLoading,onClick:this.turnOffLight,variant:"dark"},"OFF LAMP"))))))}},{key:"turnOffLight",value:function(){var e=this;this.setState({lightLoading:!0}),L.a.get("/turnoff_light").then((function(t){console.log(t),e.setState({lightLoading:!1})}),(function(t){console.log(t),e.setState({lightLoading:!1})}))}},{key:"turnOnLight",value:function(){var e=this;this.setState({lightLoading:!0}),L.a.get("/turnon_light").then((function(t){console.log(t),e.setState({lightLoading:!1})}),(function(t){console.log(t),e.setState({lightLoading:!1})}))}}]),a}(n.Component),D=a(430),T=a(10),F=a(110),w=a.n(F),C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={tempData:void 0,humidData:void 0,errorLoading:!1},n.getTemperature=n.getTemperature.bind(Object(b.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getTemperature(),this.getHumidity()}},{key:"render",value:function(){return r.a.createElement(v.a,null,r.a.createElement(f.a,{className:this.state.tempData&&this.state.humidData?"hidden":"visible"},r.a.createElement(y.a,{className:"d-flex justify-content-center"},r.a.createElement(p.a,{animation:"border",size:"lg"}))),r.a.createElement(f.a,{className:this.state.tempData&&this.state.humidData?"visible":"hidden"},r.a.createElement(y.a,null,this.state.errorLoading?r.a.createElement(f.a,null,r.a.createElement(y.a,null,r.a.createElement(D.a,{variant:"danger"},"Error: Unable to get temperature and humidity sensor data from the server!"))):r.a.createElement(f.a,null,r.a.createElement(y.a,null,r.a.createElement("h2",{className:"graph-title"},"Temperature vs. Time"),r.a.createElement(T.f,{width:"100%",height:500},r.a.createElement(T.h,null,r.a.createElement(T.a,{strokeDasharray:"3 3"}),r.a.createElement(T.j,{dataKey:"time",domain:["auto","auto"],name:"Time",tickFormatter:function(e){return w()(e).format("MM/DD/YYYY h:mm:ss a")},type:"number"}),r.a.createElement(T.k,{dataKey:"temperature",name:"Temperature",unit:"\u2109"}),r.a.createElement(T.i,{cursor:{strokeDasharray:"3 3"},labelFormatter:function(e){return new Date(e).toLocaleString()}}),r.a.createElement(T.g,{data:this.state.tempData,line:{stroke:"#FF7070"},lineJointType:"monotoneX",lineType:"joint",name:"Temperatures",fill:"#FF4040"}))),r.a.createElement("h2",{className:"graph-title"},"Humidity vs. Time"),r.a.createElement(T.f,{width:"100%",height:500},r.a.createElement(T.h,null,r.a.createElement(T.a,{strokeDasharray:"3 3"}),r.a.createElement(T.j,{dataKey:"time",domain:["auto","auto"],name:"Time",tickFormatter:function(e){return w()(e).format("MM/DD/YYYY h:mm:ss a")},type:"number"}),r.a.createElement(T.k,{dataKey:"humidity",name:"Humidity",unit:"%"}),r.a.createElement(T.i,{cursor:{strokeDasharray:"3 3"},labelFormatter:function(e){return new Date(e).toLocaleString()}}),r.a.createElement(T.g,{data:this.state.humidData,line:{stroke:"#7D9DFF"},lineJointType:"monotoneX",lineType:"joint",name:"Humidity",fill:"#8884d8",unit:"%"}))))))))}},{key:"getTemperature",value:function(){var e=this;L.a.get("/get_temperature").then((function(t){if(t.data&&t.data.length>=0){var a=t.data;e.setState({tempData:a})}else e.setState({errorLoading:!0}),console.log("Error getting temperature")}),(function(t){e.setState({errorLoading:!0}),console.log(t)}))}},{key:"getHumidity",value:function(){var e=this;L.a.get("/get_humidity").then((function(t){if(t.data&&t.data.length>=0){var a=t.data;e.setState({humidData:a})}else e.setState({errorLoading:!0}),console.log("Error getting humidity")}),(function(t){e.setState({errorLoading:!0}),console.log(t)}))}}]),a}(n.Component),x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1,error:void 0,totalStorage:void 0,storageUsed:void 0,otherStorageUsed:void 0,storageFree:void 0,piChartData:[]},n.updateServer=n.updateServer.bind(Object(b.a)(n)),n.rebootServer=n.rebootServer.bind(Object(b.a)(n)),n.getSystemStatus=n.getSystemStatus.bind(Object(b.a)(n)),n.convertBytesToGb=n.convertBytesToGb.bind(Object(b.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getSystemStatus()}},{key:"render",value:function(){var e=["#0088FE","#00C49F","#FFBB28","#FF8042"],t=Math.PI/180;return r.a.createElement(v.a,null,r.a.createElement(f.a,null,r.a.createElement(y.a,null,this.state.error&&r.a.createElement(f.a,null,r.a.createElement(D.a,{variant:"danger"},"Error: ",this.state.error)),r.a.createElement(f.a,null,r.a.createElement("h2",{className:"about-header"},"Settings")),r.a.createElement(f.a,null,r.a.createElement(O.a,{disabled:this.state.loading,className:"settings-btn",onClick:this.updateServer},"Update Server")),r.a.createElement(f.a,null,r.a.createElement(O.a,{disabled:this.state.loading,className:"settings-btn",onClick:this.rebootServer},"Reboot Server")),r.a.createElement(f.a,null,r.a.createElement("h2",{className:"about-header"},"System Details")),r.a.createElement(f.a,null,r.a.createElement("div",null,"Total Storage: ",this.convertBytesToGb(this.state.totalStorage))),r.a.createElement(f.a,null,r.a.createElement("div",{className:"system-details"},"Storage Used: ",this.convertBytesToGb(this.state.storageUsed))),r.a.createElement(f.a,null,r.a.createElement("div",{className:"system-details"},"Other Storage Used: ",this.convertBytesToGb(this.state.otherStorageUsed))),r.a.createElement(f.a,null,r.a.createElement("div",{className:"system-details"},"Storage Free: ",this.convertBytesToGb(this.state.storageFree))),r.a.createElement(f.a,null,r.a.createElement(T.f,{className:"container",width:300,height:300},r.a.createElement(T.e,null,r.a.createElement(T.d,{data:this.state.piChartData,labelLine:!1,label:function(e){var a=e.cx,n=e.cy,l=e.midAngle,i=e.innerRadius,o=e.outerRadius,s=e.percent,c=(e.index,i+.5*(o-i)),m=a+c*Math.cos(-l*t),u=n+c*Math.sin(-l*t);return r.a.createElement("text",{x:m,y:u,fill:"white",textAnchor:m>a?"start":"end",dominantBaseline:"central"},"".concat((100*s).toFixed(0),"%"))},outerRadius:80,fill:"#8884d8",dataKey:"value"},this.state.piChartData.map((function(t,a){return r.a.createElement(T.b,{key:"cell-".concat(a),fill:e[a%e.length]})}))),r.a.createElement(T.c,null),r.a.createElement(T.i,null)))))))}},{key:"updateServer",value:function(){var e=this;this.setState({loading:!0}),L.a.get("/update_server").then((function(t){alert("Updating the server (website will be down for a very short period of time)."),window.location.reload(),e.setState({loading:!1})}),(function(t){e.setState({loading:!1,error:t.message})}))}},{key:"rebootServer",value:function(){var e=this;this.setState({loading:!0}),L.a.get("/reboot_server").then((function(t){alert("Rebooting the server (website will be down for a while)."),window.location.reload(),e.setState({loading:!1})}),(function(t){e.setState({loading:!1,error:t.message})}))}},{key:"getSystemStatus",value:function(){var e=this;this.setState({loading:!0}),L.a.get("/system_status").then((function(t){e.setState({loading:!1,totalStorage:t.data.total,storageUsed:t.data.used,otherStorageUsed:t.data.total-t.data.used,storageFree:t.data.free,piChartData:[{name:"Free Storage",value:t.data.free},{name:"Storage Used",value:t.data.used},{name:"Other Storage Used",value:t.data.total-t.data.used}]})}),(function(t){e.setState({loading:!1,error:t.message})}))}},{key:"convertBytesToGb",value:function(e){return parseFloat(e/1073741824).toFixed(2)}}]),a}(n.Component),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(v.a,null,r.a.createElement(f.a,null,r.a.createElement(y.a,null,r.a.createElement("h2",{className:"about-header"},"Author"),r.a.createElement("div",null,"Deepak Ramalingam"))))}}]),a}(n.Component),U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement("title",null,"Tort Hub")),r.a.createElement(o.a,null,r.a.createElement(g.a,{sticky:"top",bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(v.a,null,r.a.createElement(g.a.Brand,{href:"/stream"},"TortHub"),r.a.createElement(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(g.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(E.a,{className:"mr-auto"},r.a.createElement(o.b,{to:"/stream",className:"nav-link",activeClassName:"active"},"Stream"),r.a.createElement(o.b,{to:"/stats",className:"nav-link",activeClassName:"active"},"Temperature and Humidity"),r.a.createElement(o.b,{to:"/lights",className:"nav-link",activeClassName:"active"},"Lights"),r.a.createElement(o.b,{to:"/settings",className:"nav-link",activeClassName:"active"},"Settings"),r.a.createElement(o.b,{to:"/about",className:"nav-link",activeClassName:"active"},"About"))))),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/stream"},r.a.createElement(k,null)),r.a.createElement(d.b,{exact:!0,path:"/lights"},r.a.createElement(N,null)),r.a.createElement(d.b,{exact:!0,path:"/stats"},r.a.createElement(C,null)),r.a.createElement(d.b,{exact:!0,path:"/settings"},r.a.createElement(x,null)),r.a.createElement(d.b,{exact:!0,path:"/about"},r.a.createElement(B,null)),r.a.createElement(d.b,{path:"*"},r.a.createElement(d.a,{to:"/stream"})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(417),a(418);i.a.render(r.a.createElement(o.a,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[214,1,2]]]);
//# sourceMappingURL=main.bee87210.chunk.js.map